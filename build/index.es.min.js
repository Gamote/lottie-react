import e from"lottie-web";export{default as LottiePlayer}from"lottie-web";import n,{useRef as t,useEffect as r,forwardRef as o}from"react";import{shape as a,oneOfType as u,bool as l,number as i,arrayOf as c,func as d}from"prop-types";function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var y=function(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=o.animationData,l=o.loop,i=o.autoplay,c=o.initialSegment,d=o.onComplete,p=o.onLoopComplete,f=o.onEnterFrame,m=o.onSegmentStart,y=o.onConfigReady,g=o.onDataReady,b=o.onDataFailed,v=o.onLoadedImages,O=o.onDOMLoaded,S=o.onDestroy,D=t(),h=t(null),P=function(){D.current&&D.current.play()},j=function(){D.current&&D.current.stop()},w=function(){D.current&&D.current.pause()},L=function(e){D.current&&D.current.setSpeed(e)},C=function(e,n){D.current&&D.current.goToAndPlay(e,n)},E=function(e,n){D.current&&D.current.goToAndStop(e,n)},A=function(e){D.current&&D.current.setDirection(e)},T=function(e,n){D.current&&D.current.playSegments(e,n)},R=function(e){D.current&&D.current.setSubframe(e)},F=function(){D.current&&D.current.destroy()},x=function(e){if(D.current)return D.current.getDuration(e)},I=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.current){D.current&&D.current.destroy();var t=s(s(s({},o),n),{},{container:h.current});D.current=e.loadAnimation(t)}};r((function(){I()}),[u,l,i,c]);var M=function(e,n){return D.current&&e&&n?(D.current.addEventListener(e,n),function(){var t;null===(t=D.current)||void 0===t||t.removeEventListener(e,n)}):function(){}};r((function(){var e=[{name:"complete",handler:d},{name:"loopComplete",handler:p},{name:"enterFrame",handler:f},{name:"segmentStart",handler:m},{name:"config_ready",handler:y},{name:"data_ready",handler:g},{name:"data_failed",handler:b},{name:"loaded_images",handler:v},{name:"DOMLoaded",handler:O},{name:"destroy",handler:S}].filter((function(e){return null!=e.handler}));if(e.length){var n=e.map((function(e){return M(e.name,e.handler)}));return function(){n.forEach((function(e){return e()}))}}}),[d,p,f,m,y,g,b,v,O,S]);var _=n.createElement("div",{style:a,ref:h});return{View:_,play:P,stop:j,pause:w,setSpeed:L,goToAndStop:E,goToAndPlay:C,setDirection:A,playSegments:T,setSubframe:R,destroy:F,getDuration:x}},g=o((function(e,n){var t=e.style,o=m(e,["style"]),a=n,u=y(o,t),l=u.View,i=u.play,c=u.stop,d=u.pause,p=u.setSpeed,f=u.goToAndStop,s=u.goToAndPlay,g=u.setDirection,b=u.playSegments,v=u.setSubframe,O=u.destroy,S=u.getDuration;return r((function(){a&&(a.current={play:i,stop:c,pause:d,setSpeed:p,goToAndPlay:s,goToAndStop:f,setDirection:g,playSegments:b,setSubframe:v,destroy:O,getDuration:S})}),[null==a?void 0:a.current]),l}));g.propTypes={animationData:a(void 0).isRequired,loop:u([l,i]),autoplay:l,initialSegment:c(i.isRequired),onComplete:d,onLoopComplete:d,onEnterFrame:d,onSegmentStart:d,onConfigReady:d,onDataReady:d,onDataFailed:d,onLoadedImages:d,onDOMLoaded:d,onDestroy:d,style:a(void 0)},g.defaultProps={loop:!0,autoplay:!0,initialSegment:null,onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onConfigReady:null,onDataReady:null,onDataFailed:null,onLoadedImages:null,onDOMLoaded:null,onDestroy:null,style:void 0};var b=g,v=y;export default g;export{b as Animator,v as useAnimator,y as useLottie};
